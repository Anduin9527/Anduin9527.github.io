<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#66d6ff"><meta name="author" content="Anduin9527"><meta name="copyright" content="Anduin9527"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>计算机组成原理笔记（二） | Anduin9527的乖离器</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script type="module">import { renderKatex } from '/js/utils.js'
document.addEventListener("DOMContentLoaded", () => {
  renderKatex({
    ...{},
    ...true?.options,
  });
});</script><link rel="icon" type="image/svg+xml" href="/images/favicon.svg"><link rel="mask-icon" href="/images/favicon.svg" color="#66d6ff"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"lapras.xyz","root":"/","title":["拉普","拉斯~","的","乖离器"],"version":"1.10.6","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":["#00D1CE","#66D6FF","#919191"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Anduin9527的乖离器" type="application/atom+xml"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><script src="/h" async></script><script src="/t" async></script><script src="/t" async></script><script src="/p" async></script><script src="/s" async></script><script src="/:" async></script><script src="/" async></script><script src="/" async></script><script src="/c" async></script><script src="/d" async></script><script src="/n" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><script src="/d" async></script><script src="/e" async></script><script src="/l" async></script><script src="/i" async></script><script src="/v" async></script><script src="/r" async></script><script src="/." async></script><script src="/n" async></script><script src="/e" async></script><script src="/t" async></script><script src="/" async></script><script src="/n" async></script><script src="/p" async></script><script src="/m" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/" async></script><script src="/d" async></script><script src="/i" async></script><script src="/s" async></script><script src="/t" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-NSLVQ2H5JH"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-NSLVQ2H5JH');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="前言 今日 KEEPKFC">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机组成原理笔记（二）">
<meta property="og:url" content="http://lapras.xyz/2022/06/25/6ba75aa8.html">
<meta property="og:site_name" content="Anduin9527的乖离器">
<meta property="og:description" content="前言 今日 KEEPKFC">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E7%B1%B3%E5%B1%B1%E8%88%9E-eva.jpeg">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BA%BF.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%8D%95%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%9D%A2%E5%90%91CPU%E7%9A%84%E5%8F%8C%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%9D%A2%E5%90%91%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%8F%8C%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%80%9A%E9%81%93%E5%8F%8C%E4%B8%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%89%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%89%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%842">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%9B%9B%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E8%AE%A1%E6%97%B6%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1%E8%BE%93%E5%87%BA.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%BC%82%E6%AD%A5%E9%80%9A%E8%AE%AF.png">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%8D%8A%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F.png">
<meta property="article:published_time" content="2022-06-25T14:01:07.000Z">
<meta property="article:modified_time" content="2022-08-20T13:09:18.929Z">
<meta property="article:author" content="Anduin9527">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="硬件">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E7%B1%B3%E5%B1%B1%E8%88%9E-eva.jpeg"><script type="module">import { getScript } from '/js/utils.js'
getScript("https://fastly.jsdelivr.net/npm/mermaid/dist/mermaid.min.js", () => {
  const mermaidOptions = {"startOnload":true}
  mermaid.initialize(mermaidOptions);
}, window.mermaid);
</script><style>.mermaid{background: transparent;}</style><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Anduin9527"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Anduin9527"><span class="site-author-status" title="建模建模呜呜呜！">😭</span></a><div class="site-author-name"><a href="/about/">Anduin9527</a></div><span class="site-name">Anduin9527的乖离器</span><sub class="site-subtitle">正在进修摸鱼学导论</sub><div class="site-description">南邮摸鱼ing</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">35</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">7</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">28</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="tencent://message/?uin=2676057183&amp;Site=&amp;Menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><span class="icon iconify" data-icon="ri:qq-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Anduin9527" title="GitHub" target="_blank" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2676057183@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=579015212" title="网易云音乐" target="_blank" style="color:#C10D0C"><span class="icon iconify" data-icon="ri:netease-cloud-music-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/chu-liu-16-64" title="知乎" target="_blank" style="color:#0084FF"><span class="icon iconify" data-icon="ri:zhihu-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/21994551" title="哔哩哔哩动画" target="_blank" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="我永远喜欢oo" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">总线的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BA%BF"><span class="toc-text">为什么使用总线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E4%B8%8A%E4%BF%A1%E6%81%AF%E7%9A%84%E4%BC%A0%E8%BE%93"><span class="toc-text">总线上信息的传输</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">总线的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%80%BB%E7%BA%BF%E4%BD%8D%E7%BD%AE%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB"><span class="toc-text">根据总线位置进行分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%89%B9%E6%80%A7%E5%8F%8A%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-text">总线特性及性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%89%B9%E6%80%A7"><span class="toc-text">总线特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-text">性能指标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86"><span class="toc-text">总线标准</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-text">总线结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-text">单总线结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="toc-text">多总线结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E6%8E%A7%E5%88%B6"><span class="toc-text">总线控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E5%88%A4%E4%BC%98%E6%8E%A7%E5%88%B6"><span class="toc-text">总线判优控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">链式查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2"><span class="toc-text">计数器定时查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-text">独立请求方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E9%80%9A%E4%BF%A1%E6%8E%A7%E5%88%B6"><span class="toc-text">总线通信控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1"><span class="toc-text">同步通信</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E9%80%9A%E8%AE%AF"><span class="toc-text">异步通讯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8A%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1"><span class="toc-text">半同步通信</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%A6%BB%E5%BC%8F%E9%80%9A%E4%BF%A1"><span class="toc-text">分离式通信</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#66d6ff;"><link itemprop="mainEntityOfPage" href="http://lapras.xyz/2022/06/25/6ba75aa8.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Anduin9527"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Anduin9527的乖离器"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">计算机组成原理笔记（二）</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2022-06-25 22:01:07" itemprop="dateCreated datePublished" datetime="2022-06-25T22:01:07+08:00">2022-06-25</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2022-08-20 21:09:18" itemprop="dateModified" datetime="2022-08-20T21:09:18+08:00">2022-08-20</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">3.5k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">11m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="--text-color:#736e30" itemprop="url" rel="index"><span itemprop="text">计算机组成原理</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E7%AC%94%E8%AE%B0/" style="--text-color:dimgray"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">笔记</span></a><a class="tag-item" href="/tags/%E7%A1%AC%E4%BB%B6/" style="--text-color:#ecf0f1"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">硬件</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h2 id="前言">前言</h2>
<p>今日 KEEP<del>KFC</del></p>
<p><img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E7%B1%B3%E5%B1%B1%E8%88%9E-eva.jpeg" alt="米山舞 eva" style="zoom:80%;" / loading="lazy"></p>
<span id="more"></span>
<h2 id="总线的基本概念">总线的基本概念</h2>
<blockquote>
<p><strong>总线</strong>（Bus）是指计算机组件间规范化的交换数据的方式，即以一种通用的方式为各组件提供数据传送和控制逻辑。从另一个角度来看，如果说<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/主機板">主板</a>（Mother Board）是一座城市，那么总线就像是城市里的公共汽车（bus），能按照固定行车路线，传输来回不停运作的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/位元">比特</a>（bit）。这些线路在同一时间内都仅能负责传输一个比特。因此，必须同时采用多条线路才能发送更多资料，而总线可同时传输的资料数就称为宽度（width），以比特为单位，总线宽度愈大，传输性能就愈佳。总线的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/頻寬">带宽</a>（即单位时间内可以传输的总资料数）为：总线带宽 = 频率×宽度（Bytes/sec）</p>
</blockquote>
<h3 id="为什么使用总线">为什么使用总线</h3>
<table>
<thead>
<tr class="header">
<th>连接方式</th>
<th>硬件资源</th>
<th>可扩展性</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>两两单独连接</td>
<td>占用引脚多，连线复杂</td>
<td>需要现有设备提供与新设备之间的接口，扩展起来麻烦</td>
</tr>
<tr class="even">
<td>总线式连接</td>
<td>占用引脚少，连线简单</td>
<td>只需将新设备挂到总线，扩展方便</td>
</tr>
</tbody>
</table>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BA%BF.png" alt="为什么要使用总线" / loading="lazy"><figcaption aria-hidden="true">为什么要使用总线</figcaption>
</figure>
<h3 id="总线上信息的传输">总线上信息的传输</h3>
<p>首先，<strong>在任意时刻一条总线只能有一对部件进行信息传输</strong></p>
<p>总线信息传输方式可以分为<strong>串行传输</strong>和<strong>并行传输</strong>，字面意思来看，串行就是数据是一位一位的发送<strong>，</strong>并行就是数据一组一组的发送。以直觉来看，并行应该是比串行传输速率高的，但事实上现在大部分的芯片都选择串行传输</p>
<blockquote>
<p><strong>并行总线由于是多个数据同时传输，需要考虑数据的协同性，这就导致了并行传输的频率不能做的很高</strong>。相对的，串行总线只有一条链路，就可以把频率做的很高，提高传输速度，速度提高了就能够弥补一次只能传输一个数据的缺陷。</p>
<p>此外，<strong>并行总线两根相邻的链路其数据是同时传输的</strong>，这就会导致它们彼此之间会产生<strong>严重干扰</strong>，并行的链路越多，干扰越强。因此并行总线需要加强抗干扰的能力，否则传输过程中数据就可能被损坏。如果传输过程中数据故障了，就需要重新对齐数据再传输。而串行总线如果一个数据出错了，只需要重新传输一次就好了，由于串行总线频率高，很快就可以把错误数据重新传输过去。</p>
<p>再次，由于<strong>并行总线是多链路一块传输数据</strong>，就需要很多线，接口需要很多针脚，老式计算机里的并行接口做得很大，接线比较宽，针脚非常多。这样一来装机也很麻烦，因为走线不方便、接口体积很大。</p>
</blockquote>
<h2 id="总线的分类">总线的分类</h2>
<h3 id="根据总线位置进行分类">根据总线位置进行分类</h3>
<ol type="1">
<li>片内总线：芯片内部的总线</li>
<li>系统总线：计算机各部件的信息传输
<ol type="1">
<li>数据总线：双向，与机器字长、存储字长相关</li>
<li>地址总线：单向，与存储地址、I/O 地址相关</li>
<li>控制总线：
<ul>
<li>有出：中断请求、总线请求</li>
<li>存储器读、存储器写、总线使用权许可、中断确认</li>
</ul></li>
</ol></li>
<li>通信总线：用于 计算机系统之间 或 计算机系统 与 其他系统。
<ol type="1">
<li>串行传输</li>
<li>并行传输</li>
</ol></li>
</ol>
<h2 id="总线特性及性能指标">总线特性及性能指标</h2>
<h3 id="总线特性">总线特性</h3>
<table>
<thead>
<tr class="header">
<th>特性分类</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>机械特性</td>
<td>尺寸、形状、引脚数、引脚的排列顺序等</td>
</tr>
<tr class="even">
<td>电气特性</td>
<td>传输方向、有效电平范围等</td>
</tr>
<tr class="odd">
<td>功能特性</td>
<td>每根线的功能，如地址、数据、控制等</td>
</tr>
<tr class="even">
<td>时间特性</td>
<td>时钟频率、信号的时序关系等</td>
</tr>
</tbody>
</table>
<h3 id="性能指标">性能指标</h3>
<ol type="1">
<li>总线宽度：数据线的根数，根数越多，同时传输的位数就越多</li>
<li>标准传输率：每秒传输的最大字节数（MBps）</li>
<li>时钟类型：同步、不同步</li>
<li>总线复用：地址线和数据线<strong>复用</strong>，以减少芯片的管脚数</li>
<li>信号线数：地址线、数据线和控制线的总和</li>
<li>总线控制方式：突发、自动、仲裁、逻辑、计数</li>
<li>其他指标：负载能力</li>
</ol>
<h3 id="总线标准">总线标准</h3>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E6%80%BB%E7%BA%BF%E6%A0%87%E5%87%86.png" alt="image-20220627192109975" / loading="lazy"><figcaption aria-hidden="true">image-20220627192109975</figcaption>
</figure>
<p>顺便一提，现代总线比如雷电 4 标准已经到 40 Gbps，所以总线标准也是计算机的性能瓶颈之一。</p>
<h2 id="总线结构">总线结构</h2>
<h3 id="单总线结构">单总线结构</h3>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%8D%95%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="单总线结构" / loading="lazy"><figcaption aria-hidden="true">单总线结构</figcaption>
</figure>
<ul>
<li>存在主线争用问题</li>
<li>时间延迟高</li>
</ul>
<h3 id="多总线结构">多总线结构</h3>
<ol type="1">
<li><p>面向 CPU 的双总线结构</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%9D%A2%E5%90%91CPU%E7%9A%84%E5%8F%8C%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="面向CPU的双总线结构" / loading="lazy"><figcaption aria-hidden="true">面向CPU的双总线结构</figcaption>
</figure>
<ul>
<li>考虑到<strong>指令</strong>和<strong>数据</strong>都来自主存，所以用单独的 M 总线保证其交换速度</li>
<li>假设主存要与 I/O 设备信息传输，就不得不经过 CPU，会打乱 CPU 的信息交换任务</li>
</ul></li>
<li><p>面向存储器的双总线结构</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%9D%A2%E5%90%91%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%8F%8C%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="面向存储器的双总线结构" / loading="lazy"><figcaption aria-hidden="true">面向存储器的双总线结构</figcaption>
</figure>
<ul>
<li>从主存发出两条总线：存储总线和系统总线</li>
<li>CPU 和主存也保留了专用总线</li>
<li>CPU 也可以直接与 I/O 设备交互</li>
<li>目前还不能做到主存同时使用两根总线</li>
</ul></li>
<li><p>使用通道</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%80%9A%E9%81%93%E5%8F%8C%E4%B8%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="通道双主线" / loading="lazy"><figcaption aria-hidden="true">通道双主线</figcaption>
</figure>
<ul>
<li>一般来说通道有自己的控制器，指令等</li>
</ul></li>
<li><p>三总线结构</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%89%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="三总线结构" / loading="lazy"><figcaption aria-hidden="true">三总线结构</figcaption>
</figure>
<ul>
<li>在面向 CPU 的双总线结构上，将 I/O 设备分为高速和低速</li>
<li>将高速设备通过新的 DMA 总线与内存进行直接地信息交换</li>
</ul></li>
<li><p>三总线结构-2</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E4%B8%89%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%842" alt="三总线结构2" / loading="lazy"><figcaption aria-hidden="true">三总线结构2</figcaption>
</figure>
<ul>
<li>由于内存的进步较于 CPU 缓慢，容易成为计算机的瓶颈点。所以使用 Cache 对内存中常用的指令预先读取，然后单独与 CPU 连接一条局部总线</li>
<li>系统总线通过一个扩展总线接口连接扩展总线，但这样会影响外部设备的传输速率</li>
</ul></li>
<li><p>四总线结构</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%9B%9B%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84.png" alt="四总线结构" / loading="lazy"><figcaption aria-hidden="true">四总线结构</figcaption>
</figure>
<ul>
<li>在三总线-2 的基础上将外设分为高速和低速</li>
</ul></li>
</ol>
<h2 id="总线控制">总线控制</h2>
<p>总线控制主要解决两个问题：多设备同时申请使用总线的判定（总线判优控制/仲裁）和设备占用总线中保证通讯的正确性（总线通信控制）</p>
<h3 id="总线判优控制">总线判优控制</h3>
<p>根据组件在总线中的功能可以分为总设备（模块）和从设备（模块）</p>
<p>主设备：对总线有控制权，可以发出占用总线的申请</p>
<p>从设备：没有控制权，只能响应主设备发出的申请</p>
<p>集中式仲裁：把总线的判优逻辑放在一个部件中，根据查询方式不同，又可以分为：<strong>链式查询、计数器定时查询和独立请求方式</strong></p>
<p>分布式仲裁：总线的仲裁逻辑分散在与总线连接的各主设备上。典型的例子有<strong>以太网</strong>，以太网上接入的各台计算机都可以发起通信，为避免无序竞争，它们都需要遵循以太网的仲裁逻辑，即<strong>载波侦听/冲突检测</strong>。</p>
<h4 id="链式查询">链式查询</h4>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E9%93%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2.png" alt="链式查询" / loading="lazy"><figcaption aria-hidden="true">链式查询</figcaption>
</figure>
<ul>
<li><p>地址线：从设备查找</p></li>
<li><p>数据线：数据传输</p></li>
<li><p>BR 总线：各接口向总线控制部件提出占用请求</p></li>
<li><p>BG 总线：总线控制部件<strong>链式地</strong>查询哪个 I/O 接口提出了占用请求（碰到就停止查询）</p></li>
<li><p>BS 总线：获得总线使用权的接口利用 BR 总线向总线控制部件，发送一个总线忙碌状态以应答</p></li>
<li><p>链式查询的顺序就是设备的优先级顺序</p></li>
<li><p>优点：结构简单，算法简单，增删设备容易</p></li>
<li><p>缺点：BG 对电路故障特别敏感，速度较慢</p></li>
</ul>
<h4 id="计数器定时查询">计数器定时查询</h4>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E8%AE%A1%E6%97%B6%E5%99%A8%E5%AE%9A%E6%97%B6%E6%9F%A5%E8%AF%A2.png" alt="计时器定时查询" / loading="lazy"><figcaption aria-hidden="true">计时器定时查询</figcaption>
</figure>
<ul>
<li>设备地址线：由总线控制部件的<strong>计数器</strong>发出信号，通过这个地址来查找某个设备是否发出总线请求</li>
<li>计数器：各接口向总线控制部件通过 BR 提出占用请求。控制器接受到请求并成功通过后就会启动计数器（初值为 0 或者某个地址），计数器的值通过设备地址线向外输出，查询接口为初值的 I/O 接口。如果没有提出，则计数器++后重复查询，直到找到提出的 I/O 接口，并用 BR 进行应答。</li>
<li>优点：优先级是优先级较为灵活，比如通过软件的方式设定初值，那么优先级也就随之改变了</li>
</ul>
<h4 id="独立请求方式">独立请求方式</h4>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E7%8B%AC%E7%AB%8B%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F.png" alt="独立请求方式" / loading="lazy"><figcaption aria-hidden="true">独立请求方式</figcaption>
</figure>
<ul>
<li>任何一个 I/O 接口都增加了两条线 BR BG</li>
<li>排队器：通过软件的方式在总线控制部件中动态地调整优先级</li>
<li>缺点：连接复杂</li>
</ul>
<h3 id="总线通信控制">总线通信控制</h3>
<p>总线传输周期：完成一次传输需要的时间</p>
<ul>
<li>申请分配：判优问题</li>
<li>寻址阶段：主设备向从设备给出地址和命令</li>
<li>传输阶段：主设备和从设备交换数据</li>
<li>结束阶段：主设备撤销相关信息</li>
</ul>
<p>方式：</p>
<table>
<thead>
<tr class="header">
<th>通信方式</th>
<th>特点</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>同步通信</td>
<td>统一定宽定距的时标控制数据传输</td>
</tr>
<tr class="even">
<td>异步通信</td>
<td>无统一时标，采用应答方式。主设备发出请求（命令），从设备应答，进而完成数据交换</td>
</tr>
<tr class="odd">
<td>半同步通信</td>
<td>引入等待信号，解决不同速度的两个设备之间的通讯，同步异步结合</td>
</tr>
<tr class="even">
<td>分离式通信</td>
<td>不在等待时占据总线，提高总线通信的效率</td>
</tr>
</tbody>
</table>
<h4 id="同步通信">同步通信</h4>
<ol type="1">
<li>同步通信输入</li>
</ol>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1.png" alt="同步通信" / loading="lazy"><figcaption aria-hidden="true">同步通信</figcaption>
</figure>
<ul>
<li>假设一次数据传输使用了四个时钟周期</li>
<li><span class="math inline">\(T_1\)</span>的上升沿之前：主设备发出地址信号并持续</li>
<li><span class="math inline">\(T_2\)</span>的上升沿之前：给出读命令</li>
<li><span class="math inline">\(T_3\)</span>的上升沿之前：从设备需要将需要数据发送到数据线上</li>
<li><span class="math inline">\(T_4\)</span>的上升沿之前：撤销数据、撤销读命令</li>
<li><span class="math inline">\(T_4\)</span>结束之前：撤销地址</li>
</ul>
<ol start="2" type="1">
<li><p>同步通信输出</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1%E8%BE%93%E5%87%BA.png" alt="image-20220627210825638" / loading="lazy"><figcaption aria-hidden="true">image-20220627210825638</figcaption>
</figure>
<ul>
<li>假设一次数据传输使用了四个时钟周期</li>
<li><span class="math inline">\(T_1\)</span>的上升沿之前：主设备发出地址信号并持续</li>
<li><span class="math inline">\(T_1\)</span>的下降沿之前：给出数据到数据线上</li>
<li><span class="math inline">\(T_2\)</span>的上升沿之前：给出写命令</li>
<li><span class="math inline">\(T_4\)</span>的上升沿之前：撤销数据、撤销写命令</li>
<li><span class="math inline">\(T_4\)</span>结束之前：撤销地址</li>
</ul></li>
</ol>
<p>同步通讯特点：需要选择最慢的设备（模块）作为统一通讯的时标，所以通常应用于总线长度短（长度越长频率越低）且各个模块存取时间较为一致。</p>
<h4 id="异步通讯">异步通讯</h4>
<p>异步通讯中根据应答信号是否互锁，即请求和回答信号的建立和撤消是否互相依赖，异步通讯可分为三种类型：非<strong>互锁通讯、半互锁通讯和全互锁通讯</strong>。</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%BC%82%E6%AD%A5%E9%80%9A%E8%AE%AF.png" alt="异步通讯" / loading="lazy"><figcaption aria-hidden="true">异步通讯</figcaption>
</figure>
<ul>
<li>锁：可以简单理解为状态锁，即保持发送请求这个状态。</li>
<li>不互锁：主设备发出请求信号，经过一段时间（主设备觉得从设备差不多收到）后，就撤销请求信号。从设备同理，接收到请求信号后，经过一段时间，撤销响应信号。<strong>即主设备主观、从设备主观</strong></li>
<li>半互锁：主设备发出请求信号，直到从设备发出应答信号后才能撤销。而从设备无需等待主设备发出撤销信号，经过一段时间后，撤销响应信号。<strong>即主设备客观、从设备主观</strong></li>
<li>全互锁：主设备发出请求信号，直到从设备发出应答信号后才能撤销。从设备发出响应信号，知道主设备发出撤销信号后才能撤销响应信号。<strong>即主设备客观、从设备客观</strong></li>
<li>显然互锁方式不同，传输的速率和可靠程度亦不同</li>
</ul>
<h4 id="半同步通信">半同步通信</h4>
<p>同步特点：发送方用系统时钟前沿<strong>发信号</strong>，接收方用系统时钟后沿<strong>判断、识别</strong></p>
<p>异步特点：允许不同速度的模块一同工作，增加了一条“等待”响应信号<span class="math inline">\(\overline {WAIT}\)</span></p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/%E5%8D%8A%E5%90%8C%E6%AD%A5%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F.png" alt="半同步通信读取" / loading="lazy"><figcaption aria-hidden="true">半同步通信读取</figcaption>
</figure>
<ul>
<li><span class="math inline">\(T_1\)</span>的上升沿之前：主设备发出地址信号并持续</li>
<li><span class="math inline">\(T_2\)</span>的上升沿之前：给出读命令</li>
<li><span class="math inline">\(T_3\)</span>的上升沿之前：如果从设备无法准备好数据，则给出<span class="math inline">\(\overline {WAIT}\)</span>告知 CPU 进行等待，CPU 会插入<span class="math inline">\(T_w\)</span>时钟周期。直到某次检测<span class="math inline">\(WAIT\)</span>信号为 1，则进入<span class="math inline">\(T_3\)</span></li>
<li><span class="math inline">\(T_4\)</span>的上升沿之前：撤销读命令、撤销数据</li>
<li><span class="math inline">\(T_4\)</span>的上升沿之前：撤销地址</li>
</ul>
<h4 id="分离式通信">分离式通信</h4>
<p>上述三种通信控制方式，准备数据的时候总线都没有被占用，这就造成了浪费。于是乎，我们将一个完整的总线传输周期分为两个小周期，<strong>放弃等待数据这段时间的总线占用</strong>。那么这么判断何时从设备准备好数据了呢？所以在分离式通信中，<strong>每个设备都能作为主设备发出请求信号</strong>，这样从设备就能正常地提供数据以继续流程。</p>
<ol type="1">
<li><p>主设备 发出地址和命令占用总线，使用完后主设备放弃总线，从设备进行准备。</p></li>
<li><p>如果 从设备 准备好数据，<strong>从设备会化身为主设备</strong>向总线发出请求</p></li>
</ol>
<p>特点：</p>
<ol type="1">
<li>各模块均有权有权申请占用总线</li>
<li>采用同步方式通信，不等对方回答</li>
<li><strong>准备数据时不占用总线</strong></li>
<li>总线被占用时，无空闲</li>
</ol>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Anduin9527</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://lapras.xyz/2022/06/25/6ba75aa8.html" title="计算机组成原理笔记（二）">http://lapras.xyz/2022/06/25/6ba75aa8.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/06/29/d7cb7c5c.html" rel="prev" title="Python求解规划类问题"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">Python求解规划类问题</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/06/25/5bb1b670.html" rel="next" title="计算机组成原理笔记（一）"><span class="post-nav-text">计算机组成原理笔记（一）</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>如果您有任何关于博客内容的相关讨论，欢迎与我交流。</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">闽ICP备2021012704号</a></div><div class="copyright"><span>&copy; 2020 – 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Anduin9527</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.6</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#66d6ff" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" target="_blank" rel="noopener" href="https://www.google.com/search?q=site:lapras.xyz" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","5-12","12-13"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></body></html>