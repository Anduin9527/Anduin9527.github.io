<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#66d6ff"><meta name="author" content="Anduin9527"><meta name="copyright" content="Anduin9527"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>SSH çš„äºŒä¸‰äº‹ | Anduin9527çš„ä¹–ç¦»å™¨</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/images/favicon.svg"><link rel="mask-icon" href="/images/favicon.svg" color="#66d6ff"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"lapras.xyz","root":"/","title":["æ‹‰æ™®","æ‹‰æ–¯~","çš„","ä¹–ç¦»å™¨"],"version":"1.10.6","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":["#00D1CE","#66D6FF","#919191"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Anduin9527çš„ä¹–ç¦»å™¨" type="application/atom+xml"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><script src="/h" async></script><script src="/t" async></script><script src="/t" async></script><script src="/p" async></script><script src="/s" async></script><script src="/:" async></script><script src="/" async></script><script src="/" async></script><script src="/c" async></script><script src="/d" async></script><script src="/n" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><script src="/d" async></script><script src="/e" async></script><script src="/l" async></script><script src="/i" async></script><script src="/v" async></script><script src="/r" async></script><script src="/." async></script><script src="/n" async></script><script src="/e" async></script><script src="/t" async></script><script src="/" async></script><script src="/n" async></script><script src="/p" async></script><script src="/m" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/" async></script><script src="/d" async></script><script src="/i" async></script><script src="/s" async></script><script src="/t" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-NSLVQ2H5JH"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-NSLVQ2H5JH');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="å‰è¨€ æ¥å­¦æ ¡ä¸Šäº†ä¸¤å‘¨ç½‘è¯¾ï¼Œä¸¤å‘¨çº¿ä¸‹ï¼Œç°åœ¨åˆè¦ä¸Šç½‘è¯¾äº† Gï¼ä¸Šç½‘è¯¾å°±ç®—äº†ï¼Œæˆ‘è¿˜è¦ç»™å­¦å¼Ÿä¸Šç½‘è¯¾å“ˆå“ˆã€‚æ•´ä¸€æ³¢è™šæ‹Ÿæ•™å¸ˆ V å‡ºé“">
<meta property="og:type" content="article">
<meta property="og:title" content="SSH çš„äºŒä¸‰äº‹">
<meta property="og:url" content="http://lapras.xyz/2022/03/20/844ad6f8.html">
<meta property="og:site_name" content="Anduin9527çš„ä¹–ç¦»å™¨">
<meta property="og:description" content="å‰è¨€ æ¥å­¦æ ¡ä¸Šäº†ä¸¤å‘¨ç½‘è¯¾ï¼Œä¸¤å‘¨çº¿ä¸‹ï¼Œç°åœ¨åˆè¦ä¸Šç½‘è¯¾äº† Gï¼ä¸Šç½‘è¯¾å°±ç®—äº†ï¼Œæˆ‘è¿˜è¦ç»™å­¦å¼Ÿä¸Šç½‘è¯¾å“ˆå“ˆã€‚æ•´ä¸€æ³¢è™šæ‹Ÿæ•™å¸ˆ V å‡ºé“">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220320002327.jpg">
<meta property="og:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220319224716.png">
<meta property="article:published_time" content="2022-03-19T16:18:05.000Z">
<meta property="article:modified_time" content="2022-08-21T07:21:56.327Z">
<meta property="article:author" content="Anduin9527">
<meta property="article:tag" content="æ•™ç¨‹">
<meta property="article:tag" content="ç½‘ç»œ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220320002327.jpg"><script type="module">import { getScript } from '/js/utils.js'
getScript("https://fastly.jsdelivr.net/npm/mermaid/dist/mermaid.min.js", () => {
  const mermaidOptions = {"startOnload":true}
  mermaid.initialize(mermaidOptions);
}, window.mermaid);
</script><style>.mermaid{background: transparent;}</style><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Anduin9527"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Anduin9527"><span class="site-author-status" title="å»ºæ¨¡å»ºæ¨¡å‘œå‘œå‘œï¼">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">Anduin9527</a></div><span class="site-name">Anduin9527çš„ä¹–ç¦»å™¨</span><sub class="site-subtitle">æ­£åœ¨è¿›ä¿®æ‘¸é±¼å­¦å¯¼è®º</sub><div class="site-description">å—é‚®æ‘¸é±¼ing</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">45</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">30</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="tencent://message/?uin=2676057183&amp;Site=&amp;Menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><span class="icon iconify" data-icon="ri:qq-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Anduin9527" title="GitHub" target="_blank" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2676057183@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=579015212" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C10D0C"><span class="icon iconify" data-icon="ri:netease-cloud-music-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/chu-liu-16-64" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><span class="icon iconify" data-icon="ri:zhihu-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/21994551" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="æˆ‘æ°¸è¿œå–œæ¬¢oo" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-ssh"><span class="toc-text">ä»€ä¹ˆæ˜¯ SSH</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-ssh-%E6%9C%8D%E5%8A%A1"><span class="toc-text">å®‰è£… SSH æœåŠ¡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssh-%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95"><span class="toc-text">SSH åŸºç¡€ç”¨æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">å¸¸ç”¨é…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#config"><span class="toc-text">config</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sshd_config"><span class="toc-text">sshd_config</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E7%A7%81%E9%92%A5%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">å…¬ç§é’¥çš„æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0-ssh-%E5%85%AC%E9%92%A5%E7%9A%84%E4%B8%89%E7%A7%8D%E5%A7%BF%E5%8A%BF"><span class="toc-text">ä¸Šä¼  SSH å…¬é’¥çš„ä¸‰ç§å§¿åŠ¿</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#manualsimulation"><span class="toc-text">ManualSimulation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scp"><span class="toc-text">scp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ssh-copy-id"><span class="toc-text">ssh-copy-id</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssh-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91"><span class="toc-text">SSH ç«¯å£è½¬å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E8%BD%AC%E5%8F%91%E6%AD%A3%E5%90%91%E8%BD%AC%E5%8F%91"><span class="toc-text">æœ¬åœ°è½¬å‘ï¼ˆæ­£å‘è½¬å‘ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%BD%AC%E5%8F%91%E5%8F%8D%E5%90%91%E8%BD%AC%E5%8F%91"><span class="toc-text">è¿œç¨‹è½¬å‘ï¼ˆåå‘è½¬å‘ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tips"><span class="toc-text">Tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-text">å‚è€ƒ</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#66d6ff;"><link itemprop="mainEntityOfPage" href="http://lapras.xyz/2022/03/20/844ad6f8.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Anduin9527"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Anduin9527çš„ä¹–ç¦»å™¨"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SSH çš„äºŒä¸‰äº‹</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2022-03-20 00:18:05" itemprop="dateCreated datePublished" datetime="2022-03-20T00:18:05+08:00">2022-03-20</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2022-08-21 15:21:56" itemprop="dateModified" datetime="2022-08-21T15:21:56+08:00">2022-08-21</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">2.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">10m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/" style="--text-color:#4ba700" itemprop="url" rel="index"><span itemprop="text">é¡¹ç›®ç»å†</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/%E6%95%99%E7%A8%8B/" style="--text-color:royalblue"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">æ•™ç¨‹</span></a><a class="tag-item" href="/tags/%E7%BD%91%E7%BB%9C/" style="--text-color:#1cafdb"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">ç½‘ç»œ</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h2 id="å‰è¨€">å‰è¨€</h2>
<p>æ¥å­¦æ ¡ä¸Šäº†ä¸¤å‘¨ç½‘è¯¾ï¼Œä¸¤å‘¨çº¿ä¸‹ï¼Œç°åœ¨åˆè¦ä¸Šç½‘è¯¾äº† Gï¼ä¸Šç½‘è¯¾å°±ç®—äº†ï¼Œæˆ‘è¿˜è¦ç»™å­¦å¼Ÿä¸Šç½‘è¯¾å“ˆå“ˆã€‚æ•´ä¸€æ³¢è™šæ‹Ÿæ•™å¸ˆ V å‡ºé“</p>
<p><img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220320002327.jpg" alt="63476067_p0_master1200" style="zoom: 67%;" / loading="lazy"></p>
<span id="more"></span>
<h2 id="ä»€ä¹ˆæ˜¯-ssh">ä»€ä¹ˆæ˜¯ SSH</h2>
<blockquote>
<p>SSHï¼ˆSecure Shell çš„ç¼©å†™ï¼‰æ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œç”¨äºåŠ å¯†ä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ï¼Œå¹¶ä¸”æ”¯æŒå„ç§èº«ä»½éªŒè¯æœºåˆ¶ã€‚</p>
<p>å®é™…ä½¿ç”¨ä¸­ï¼Œå®ƒä¸»è¦ç”¨äºä¿è¯è¿œç¨‹ç™»å½•å’Œè¿œç¨‹é€šä¿¡çš„å®‰å…¨ï¼Œä»»ä½•ç½‘ç»œæœåŠ¡éƒ½å¯ä»¥ç”¨è¿™ä¸ªåè®®æ¥åŠ å¯†ã€‚</p>
</blockquote>
<p>æ¯”å¦‚æˆ‘ä»¬éƒ½çŸ¥é“çš„ Github ä¸‹è½½æºä»£ç æœ‰ä¸¤ç§æ–¹å¼ï¼ŒHTTPS å’Œ ä¸€ç§å½¢å¦‚ <code>git@github.com:username/repositoryname.git</code> çš„è¿æ¥ï¼Œè¿™å…¶å®å°±æ˜¯ä¸€ç§ SSH åè®®ã€‚</p>
<p>å†æ¯”å¦‚æˆ‘ä»¬è¦æ“ä½œæœºæˆ¿é‡Œçš„æœåŠ¡å™¨ï¼Œä¸å¯èƒ½ç»™æ¯ä¸€å°æœåŠ¡å™¨éƒ½é…ä¸Šé”®ç›˜é¼ æ ‡æ˜¾ç¤ºå™¨ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡ç½‘ç»œçš„æ–¹å¼è¿œç¨‹è®¿é—®ä¸€å°æœåŠ¡å™¨ã€‚å°±ç±»ä¼¼äº TeamViewer çš„è¿œç¨‹æ¡Œé¢ã€‚</p>
<h3 id="å®‰è£…-ssh-æœåŠ¡">å®‰è£… SSH æœåŠ¡</h3>
<p>ç°åœ¨å‡ ä¹æ‰€æœ‰çš„ Linux å‘è¡Œç‰ˆã€Windows ä»¥åŠ MacOS åŸºæœ¬éƒ½è‡ªå¸¦äº† <code>ssh</code> æœåŠ¡ï¼Œå…¶ä¸­ç»å¤§éƒ¨åˆ†éƒ½æ˜¯ OpenSSH ï¼Œè¿™æ˜¯ä¸€ä¸ªå…³äºå®ç° SSH-2 åè®®çš„å¼€æºé¡¹ç›®ï¼Œå…¶ä¸­è¿˜åŒ…å«äº†ä¸€äº›å¸¸ç”¨çš„è¾…åŠ©å·¥å…·æ¯”å¦‚ï¼š<code>ssh-keygen</code>ã€<code>ssh-agent</code>ã€<code>scp</code> ä»¥åŠ <code>sftp</code>ã€‚</p>
<p>æ‰€ä»¥ç»å¤§éƒ¨åˆ†çš„ç”µè„‘éƒ½æ˜¯æœ‰ <code>ssh</code> çš„ï¼Œå¯ä»¥ç”¨ <code>ssh -V</code> ç®€å•åœ°æŸ¥çœ‹ä¸€ä¸‹ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#å®‰è£…</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-client
<span class="token function">sudo</span> dnf <span class="token function">install</span> openssh-clients</code></pre>
<p>ç„¶åä½ å°±å¯ä»¥ç”¨ <code>service</code> æˆ–è€… <code>systemctl</code> ä¹‹ç±»çš„å¼€å¯ <code>sshd</code> æœåŠ¡ã€‚</p>
<h2 id="ssh-åŸºç¡€ç”¨æ³•">SSH åŸºç¡€ç”¨æ³•</h2>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token punctuation">&#123;</span>user<span class="token punctuation">&#125;</span>@<span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span> -p <span class="token punctuation">&#123;</span><span class="token number">22</span><span class="token punctuation">&#125;</span> <span class="token builtin class-name">command</span></code></pre>
<ul>
<li><code>remote_host</code> å¯ä»¥æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯è¢« DNS è§£æçš„åŸŸåï¼ˆDomainï¼‰ã€‚</li>
<li><code>ssh</code> é™¤äº†å¯ä»¥ç™»å½•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨åé¢ç›´æ¥æ·»åŠ ä¸€æ¡å‘½ä»¤ <code>command</code>ï¼Œä¼šè¿”å›å‘½ä»¤çš„ <code>STDOUT</code>ã€‚åˆ©ç”¨è¿™ä¸ªå¯ä»¥å†™ä¸€äº›è„šæœ¬å„¿ã€‚</li>
<li><code>-p</code> åˆ¶å®šäº† <code>ssh</code> æœåŠ¡çš„ç«¯å£ï¼Œé»˜è®¤éƒ½æ˜¯ 22ã€‚</li>
<li>çœ‹çœ‹ <code>config</code> ä»¥åŠ <code>known_hosts</code></li>
</ul>
<h3 id="å¸¸ç”¨é…ç½®æ–‡ä»¶">å¸¸ç”¨é…ç½®æ–‡ä»¶</h3>
<p>SSH å®¢æˆ·ç«¯çš„å…¨å±€é…ç½®æ–‡ä»¶æ˜¯ <code>/etc/ssh/ssh_config</code>ï¼Œç”¨æˆ·é…ç½®æ–‡ä»¶åœ¨ <code>~/.ssh/config</code>ï¼Œç”¨æˆ·é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§æ›´é«˜</p>
<p>SSH æœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶æ˜¯ <code>/etc/ssh/sshd_config</code></p>
<h4 id="config">config</h4>
<pre class="language-none"><code class="language-none">Host &#123;remoteserver&#125;
     HostName &#123;remote_host&#125;
     User &#123;username&#125;
     Port 2222
     IdentityFile ~&#x2F;.ssh&#x2F;id_rsa
     ProxyCommand &#123;...&#125;
Host *
     Port 233
     User root</code></pre>
<ul>
<li><code>Host *</code> åŒ¹é…äº†æ‰€æœ‰çš„ <code>remote_host</code>ï¼Œä¹Ÿå°±æ˜¯å½“æ‰€æœ‰åŒ¹é…ä¸æˆåŠŸçš„æœ€åé€‰é¡¹ã€‚åé¢çš„ <code>Port</code> è¡¨ç¤ºæ‰€æœ‰ä¸»æœºçš„é»˜è®¤è¿æ¥ç«¯å£éƒ½æ˜¯ 233ï¼Œ<code>User</code> è¡¨ç¤ºé»˜è®¤ç™»å½•ç”¨æˆ·ä¸º root ã€‚</li>
<li><code>remoteserver</code> æ˜¯ <code>remote_host</code> çš„åˆ«å</li>
<li><code>IdentityFile</code> æ˜¯æŒ‡å®šç”¨æ¥ç™»å½•éªŒè¯çš„ç§é’¥æ–‡ä»¶ï¼Œä¸ <code>ssh -i &#123;path/to/id_rsa&#125;</code> çš„ä½œç”¨ç›¸åŒ</li>
<li>è¿˜æœ‰ä¸€ä¸ª <code>ProxyCommand</code> å®ƒå¤§æ¦‚æœ‰ä¸¤ä¸ªä½¿ç”¨åœºæ™¯ï¼ˆåŸç†éƒ½ä¸€æ ·ï¼‰ï¼Œä¸€ä¸ªæ˜¯ç”¨ä»£ç†è¿›è¡Œ <code>ssh</code>ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨è·³æ¿æœºï¼ˆä¸­è½¬æœºï¼‰ã€‚è¿™ä¸ªæˆ‘ä»¬åé¢çš„ç«¯å£è½¬å‘ç¯‡å†è¯´ã€‚ ä¸ <code>ssh -o "&#123;ProxyCommand&#125;"</code> ä½œç”¨ç›¸åŒï¼Œè¿™é‡Œå‡è®¾æˆ‘è¦ç”¨æœ¬åœ°çš„ <code>Clash</code> 7890 ç«¯å£åšä¸€ä¸ª <code>socks5</code> åè®®çš„ä»£ç†ã€‚</li>
</ul>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#Windows ä½¿ç”¨ git è‡ªå¸¦çš„ connect å·¥å…·</span>
ProxyCommand connect -S <span class="token number">127.0</span>.0.1:7890 %h %p
<span class="token comment">#Linux ä½¿ç”¨ netcat ä¹Ÿå°±æ˜¯ nc å·¥å…·</span>
ProxyCommand <span class="token function">nc</span> -X <span class="token number">5</span> -x <span class="token number">127.0</span>.0.1:7890 %h %p</code></pre>
<ul>
<li><code>%p</code> å’Œ <code>%h</code> åˆ†åˆ«æ˜¯ <code>ssh</code> çš„ç«¯å£å·ä»¥åŠ <code>remote_host</code></li>
<li><code>connect</code>
<ul>
<li><code>-S</code> å’Œ <code>-H</code> åˆ†åˆ«æ˜¯ <code>socks</code> å’Œ <code>HTTPS</code> ä»£ç†</li>
</ul></li>
<li><code>nc</code>
<ul>
<li><code>-X 5</code> æŒ‡å®šä»£ç†åè®®ä¸º <code>socks 5</code>ï¼Œå¦‚æœæ˜¯ <code>HTTPS</code> ä»£ç†åˆ™ä¸º <code>-X connect</code></li>
<li><code>-x</code> æŒ‡å®šä»£ç†çš„ä¸»æœºåœ°å€å’Œç«¯å£</li>
</ul></li>
</ul>
<p>ç™»å½•ä¹‹åå¯ä»¥ç”¨ <code>who -a</code> æŸ¥çœ‹ä¸€ä¸‹ç™»å½•çš„ IP æ˜¯å¦æ˜¯ä½ çš„ä»£ç†æœåŠ¡å™¨ IPã€‚</p>
<p>å½“ä½ ç”¨ <code>ssh</code> æˆåŠŸç™»å½•ä¸€æ¬¡åï¼Œä¼šè‡ªåŠ¨åœ¨ <code>config</code> æ–‡ä»¶ä¸­ç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œ<code>IdentityFile</code> é»˜è®¤ç¼ºçœã€‚è¿™æ ·ï¼Œä»¥åæˆ‘ä»¬ <code>ssh</code> ä¸€ä¸ªå·²ç»åœ¨ <code>config</code> ä¸­çš„ä¸»æœºçš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ <code>ssh remoteserver</code> ç™»å½•ï¼Œè€Œä¸éœ€è¦å†™ä¸€ä¸²å‘½ä»¤ã€‚</p>
<h4 id="sshd_config">sshd_config</h4>
<ul>
<li><strong>Port</strong>ï¼šå»ºè®®æ”¹ä¸ºé 22 çš„ LuckyNumberï¼Œé˜²æ­¢è¢«æ‰«ç«¯å£å¼±å£ä»¤çˆ†ç ´ã€‚</li>
<li><strong>PermitRootLogin</strong>ï¼šæ˜¯å¦å…è®¸ root è´¦å·ç›´æ¥ç™»å½•ã€‚è®¾ç½®ä¸º no å¯ä»¥æœ‰æ•ˆé˜²æ­¢è‡ªå·± <code>rm -rf /</code> çš„æ¬²æœ›</li>
<li><strong>PermitEmptyPasswords</strong>ï¼šæ˜¯å¦å…è®¸ç©ºå¯†ç ç™»å½•ã€‚å¦‚æœè®¾ç½®ä¸º yes å¹¶ä¸”ç™»å½•çš„ç”¨æˆ·å¯†ç ä¸ºç©ºï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™ä¸ªç”¨æˆ·å…å¯†ç ç™»å½•ã€‚</li>
<li><strong>PasswordAuthentication</strong>ï¼šæ˜¯å¦å…è®¸å¯†ç ç™»å½•ã€‚å¦‚æœè®¾ç½®ä¸º no å¯ä»¥å¢åŠ å®‰å…¨æ€§ã€‚</li>
<li><strong>PrintMotd</strong>ï¼š æ‰“å°ç™»å½•æç¤ºä¿¡æ¯ï¼Œæç¤ºä¿¡æ¯å­˜å‚¨åœ¨/etc/moed æ–‡ä»¶ä¸­</li>
<li>æ›´æ”¹é…ç½®é¡¹åï¼Œè®°å¾—é‡å¯ <code>sshd</code> æœåŠ¡</li>
</ul>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart sshd.service</code></pre>
<h3 id="å…¬ç§é’¥çš„æ¦‚å¿µ">å…¬ç§é’¥çš„æ¦‚å¿µ</h3>
<p>ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨ <code>ssh</code> çš„æ—¶å€™æ¯ä¸€æ¬¡ç™»å½•éƒ½éœ€è¦è¾“å…¥å¯†ç ï¼Œè¿™å¹¶ä¸å®‰å…¨ï¼Œå…¶æ¬¡éå¸¸éº»çƒ¦ã€‚<code>ssh</code> é¼“åŠ±ç”¨æˆ·ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„ <strong>å…¬ç§é’¥éªŒè¯</strong> æ¥è¿›è¡Œç™»å½•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¯†ç ã€‚æ‰€è°“çš„ <strong>å…¬ç§é’¥éªŒè¯</strong>ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€å¥—åŠ å¯†ç®—æ³•ç”Ÿæˆå‡ºçš„ä¸€å¯¹ RSA <strong>å…¬é’¥</strong> å’Œ <strong>ç§é’¥</strong>ã€‚å…¶ä¸­ <strong>ç§é’¥</strong> è‡ªè¡Œä¿å­˜ï¼Œè€Œ <strong>å…¬é’¥</strong> å¯ä»¥ç”¨æ¥æ”¾åœ¨è¿œç¨‹çš„æœåŠ¡å™¨ä¸Šã€‚è¿™æ ·å½“è¿œç¨‹çš„æœåŠ¡å™¨æ¥æ”¶åˆ°æ¥è‡ªç”±ä½ ç§é’¥å‘å‡ºçš„å‘½ä»¤åï¼Œä¼šä½¿ç”¨ä¹‹å‰å­˜æ”¾çš„å…¬é’¥è¿›è¡Œè®¤è¯ã€‚å…å»äº†åœ¨ç½‘ç»œæ˜æ–‡ä½¿ç”¨å¯†ç ä¼ è¾“çš„é£é™©ã€‚åœ¨ <code>ssh</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>ssh-keygen</code> æ¥ç”Ÿæˆä¸€å¯¹å…¬ç§é’¥ã€‚</p>
<ul>
<li>å°è¯•ä¸€ä¸‹ï¼ˆä½¿ç”¨ <code>ssh-keygen</code> ç”Ÿæˆå¹¶æŸ¥çœ‹ï¼‰</li>
<li><code>ssh-keygen</code> é™¤äº†ç”¨æ¥ç”Ÿæˆå¯†é’¥ï¼Œè¿˜å¯ä»¥ç”¨æ¥åˆ é™¤å¤±æ•ˆå˜æ›´çš„å…¬é’¥æŒ‡çº¹ï¼ˆknown_hostsï¼‰ï¼Œè¿™é€šå¸¸å‘ç”Ÿåœ¨è¿œç¨‹æœåŠ¡å™¨å‡ºäºæŸäº›åŸå› è¢«é‡ç½®äº†ã€‚</li>
</ul>
<pre class="language-bash" data-language="bash"><code class="language-bash">ssh-keygen -R <span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span></code></pre>
<h3 id="ä¸Šä¼ -ssh-å…¬é’¥çš„ä¸‰ç§å§¿åŠ¿">ä¸Šä¼  SSH å…¬é’¥çš„ä¸‰ç§å§¿åŠ¿</h3>
<p>ä¸Šä¼ å…¬é’¥çš„æœ€ç»ˆç›®çš„æ˜¯åœ¨ä½ è¦ç™»å½•ç”¨æˆ·çš„ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­è¿½åŠ ä½ çš„ <strong>å…¬é’¥æ–‡æœ¬</strong>ã€‚å¦‚æœç›®æ ‡ç”¨æˆ·æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦å…ˆè‡ªè¡Œåˆ›å»ºï¼Œå¹¶ä¿®æ”¹å¯¹åº”çš„ <strong>æƒé™</strong>ï¼Œå¦åˆ™ <code>ssh</code> ä¸ä¼šä¿¡ä»»ä½ çš„å…¬é’¥ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/authorized_keys
<span class="token function">chmod</span> <span class="token number">700</span> ~/.ssh</code></pre>
<h4 id="manualsimulation">ManualSimulation</h4>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/.ssh
<span class="token function">touch</span> ~/.ssh/authorized_keys
<span class="token function">vim</span> ~/.ssh/authorized_keys
<span class="token comment">#æŠŠå…¬é’¥å¤åˆ¶ç²˜è´´è¿›å»</span></code></pre>
<p>å½“ç„¶ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ç®¡é“è¿ç®—ç¬¦ï¼Œä½ è¿˜å¯ä»¥ä¸€å¥è¯æå®š</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> ~/.ssh/id_rsa.pub <span class="token operator">|</span> <span class="token function">ssh</span> <span class="token punctuation">&#123;</span>user<span class="token punctuation">&#125;</span>@<span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span> <span class="token string">"mkdir -p ~/.ssh &amp;&amp; cat >> ~/.ssh/authorized_keys"</span></code></pre>
<h4 id="scp">scp</h4>
<p><code>scp</code> æ˜¯ SSH æä¾›çš„ä¸€ä¸ªå®¢æˆ·ç«¯ç¨‹åºï¼Œç”¨æ¥åœ¨ä¸¤å°ä¸»æœºä¹‹é—´åŠ å¯†ä¼ é€æ–‡ä»¶ï¼ˆå³å¤åˆ¶æ–‡ä»¶ï¼‰ã€‚å…¶ç”¨æ³•å’Œ <code>cp</code> ç±»ä¼¼ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">scp</span> ~/.ssh/id_rsa.pub <span class="token punctuation">&#123;</span>user<span class="token punctuation">&#125;</span>@<span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span>:~/
<span class="token function">ssh</span> <span class="token punctuation">&#123;</span>user<span class="token punctuation">&#125;</span>@<span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span> <span class="token string">"cat ~/id_rsa.pub >> ~/.ssh/authorized_keys"</span>
<span class="token function">rm</span> ~/id_rsa.pub
<span class="token comment"># æˆ–è€…</span>
<span class="token function">scp</span> ~/.ssh/id_rsa.pub <span class="token punctuation">&#123;</span>user<span class="token punctuation">&#125;</span>@<span class="token punctuation">&#123;</span>remote_host<span class="token punctuation">&#125;</span>:~/.ssh/authorized_keys</code></pre>
<h4 id="ssh-copy-id">ssh-copy-id</h4>
<p>OpenSSH è‡ªå¸¦ä¸€ä¸ª <code>ssh-copy-id</code> å‘½ä»¤ï¼Œå¯ä»¥è‡ªåŠ¨å°†å…¬é’¥æ‹·è´åˆ°è¿œç¨‹æœåŠ¡å™¨çš„ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ã€‚å¦‚æœ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸å­˜åœ¨ï¼Œ<code>ssh-copy-id</code> å‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">ssh-copy-id -i key_file user@host</code></pre>
<ul>
<li>æ³¨æ„ï¼Œ<code>ssh-copy-id</code> æ˜¯ç›´æ¥å°†å…¬é’¥æ·»åŠ åˆ° <code>authorized_keys</code> æ–‡ä»¶çš„æœ«å°¾ã€‚å¦‚æœ <code>authorized_keys</code> æ–‡ä»¶çš„æœ«å°¾ä¸æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œä¼šå¯¼è‡´æ–°çš„å…¬é’¥æ·»åŠ åˆ°å‰ä¸€ä¸ªå…¬é’¥çš„æœ«å°¾ï¼Œä¸¤ä¸ªå…¬é’¥è¿åœ¨ä¸€èµ·ï¼Œä½¿å¾—å®ƒä»¬éƒ½æ— æ³•ç”Ÿæ•ˆã€‚æ‰€ä»¥ï¼Œå¦‚æœ <code>authorized_keys</code> æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä½¿ç”¨ <code>ssh-copy-id</code> å‘½ä»¤ä¹‹å‰ï¼ŒåŠ¡å¿…ä¿è¯ <code>authorized_keys</code> æ–‡ä»¶çš„æœ«å°¾æ˜¯æ¢è¡Œç¬¦ï¼ˆå‡è®¾è¯¥æ–‡ä»¶å·²ç»å­˜åœ¨ï¼‰ã€‚</li>
</ul>
<h2 id="ssh-ç«¯å£è½¬å‘">SSH ç«¯å£è½¬å‘</h2>
<blockquote>
<p>SSH é™¤äº†ç™»å½•æœåŠ¡å™¨ï¼Œè¿˜æœ‰ä¸€å¤§ç”¨é€”ï¼Œå°±æ˜¯ä½œä¸ºåŠ å¯†é€šä¿¡çš„ä¸­ä»‹ï¼Œå……å½“ä¸¤å°æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†è·³æ¿ï¼Œä½¿å¾—åŸæœ¬ä¸åŠ å¯†çš„é€šä¿¡å˜æˆåŠ å¯†é€šä¿¡ã€‚è¿™ä¸ªåŠŸèƒ½ç§°ä¸ºç«¯å£è½¬å‘ï¼ˆport forwardingï¼‰ï¼Œåˆç§° SSH éš§é“ï¼ˆtunnelï¼‰ã€‚</p>
<p>ç«¯å£è½¬å‘æœ‰ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š</p>
<p>ï¼ˆ1ï¼‰å°†ä¸åŠ å¯†çš„æ•°æ®æ”¾åœ¨ SSH å®‰å…¨è¿æ¥é‡Œé¢ä¼ è¾“ï¼Œä½¿å¾—åŸæœ¬ä¸å®‰å…¨çš„ç½‘ç»œæœåŠ¡å¢åŠ äº†å®‰å…¨æ€§ï¼Œæ¯”å¦‚é€šè¿‡ç«¯å£è½¬å‘è®¿é—® Telnetã€FTP ç­‰æ˜æ–‡æœåŠ¡ï¼Œæ•°æ®ä¼ è¾“å°±éƒ½ä¼šåŠ å¯†ã€‚</p>
<p>ï¼ˆ2ï¼‰ä½œä¸ºæ•°æ®é€šä¿¡çš„åŠ å¯†è·³æ¿ï¼Œç»•è¿‡ç½‘ç»œé˜²ç«å¢™ã€‚</p>
</blockquote>
<h3 id="æœ¬åœ°è½¬å‘æ­£å‘è½¬å‘">æœ¬åœ°è½¬å‘ï¼ˆæ­£å‘è½¬å‘ï¼‰</h3>
<p>æŠŠè¿œç¨‹æœåŠ¡å™¨çš„ç«¯å£æ˜ å°„åˆ°æœ¬åœ°ï¼Œç»•è¿‡é˜²ç«å¢™å’Œå®‰å…¨ç»„çš„é™åˆ¶ã€‚æ¯”å¦‚æˆ‘åœ¨è¿œç¨‹æœåŠ¡å™¨çš„ 8888 ç«¯å£è¿è¡Œäº†ä¸€ä¸ªä¸çŸ¥åçš„ Web åº”ç”¨ï¼Œå¦‚æœæˆ‘è¦åœ¨å…¬ç½‘ä¸´æ—¶æŸ¥çœ‹ä»–çš„éƒ¨ç½²ç»“æœï¼Œæ¯•ç«Ÿè¿œç¨‹æœåŠ¡å™¨ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯æ²¡æœ‰ <code>GUI</code> çš„ï¼Œé‚£ä¹ˆæˆ‘å¿…é¡»å¼€é˜²ç«å¢™å’Œå®‰å…¨ç»„è®©è¿™ä¸ªç«¯å£æš´éœ²åœ¨å…¬ç½‘ï¼Œå®Œäº‹åè¿˜å¾—å†å…³ä¸Šï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ <code>ssh</code> æœ¬åœ°è½¬å‘ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -L <span class="token punctuation">[</span>local-remote:<span class="token punctuation">]</span><span class="token punctuation">&#123;</span>local-port<span class="token punctuation">&#125;</span>:<span class="token punctuation">&#123;</span>target-host<span class="token punctuation">&#125;</span>:<span class="token punctuation">&#123;</span>target-port<span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>tunnel-host<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li><code>local-remote</code> ç¼ºçœä¸ºæœ¬æœº</li>
<li><code>tunnel-host</code> å°±æ˜¯ä¸€å¥èƒ½æ­£å¸¸ç™»é™†ä½ çš„è¿œç¨‹æœåŠ¡å™¨çš„ <code>ssh</code> è¿æ¥è¯­å¥</li>
<li><code>local-port</code> æ˜¯æ˜ å°„åˆ°æœ¬åœ°çš„æŸä¸ªç«¯å£</li>
<li><code>target-host</code> ä¸ºæœ€ç»ˆçš„ <code>remote_host</code>ï¼Œå¦‚æœæ˜¯è®¿é—® <code>tunnel-host</code> çš„æœåŠ¡ï¼Œåˆ™ä¸º <code>localhost</code>ï¼Œè¦ä¸å°±æ˜¯æŸä¸ªå†…ç½‘æœºå™¨çš„ host åœ°å€</li>
<li><code>target-port</code> ä¸ºæœ€ç»ˆçš„ <code>remote_host</code> çš„ç«¯å£å·ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡çœŸæ­£æ‰€åœ¨çš„ç«¯å£</li>
</ul>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‡èƒ½çš„ <strong>VSCode</strong> ç›´æ¥ä¸€é”®è½¬å‘ã€‚</p>
<figure>
<img src="https://imgbed-1304793179.cos.ap-nanjing.myqcloud.com/typora/20220319224716.png" alt="image-20220319224707914" / loading="lazy"><figcaption aria-hidden="true">image-20220319224707914</figcaption>
</figure>
<h3 id="è¿œç¨‹è½¬å‘åå‘è½¬å‘">è¿œç¨‹è½¬å‘ï¼ˆåå‘è½¬å‘ï¼‰</h3>
<p><strong>WARNINGï¼åå‘è½¬å‘æœ‰ä¸€å®šé£é™©</strong></p>
<p>æŠŠæœ¬åœ°çš„æŸä¸ªç«¯å£æ˜ å°„åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œè¿™ä¸ªåº”ç”¨åœºæ™¯ä¹Ÿå¾ˆå¸¸è§ï¼Œæ¯”å¦‚æˆ‘åœ¨å®¿èˆçš„æœºå­ä¸Šè·‘äº†ä¸€ä¸ªä¸çŸ¥åçš„ WEB Docker å®¹å™¨ï¼Œä½†æ˜¯æ ¡å›­ç½‘æ˜¯ç»è¿‡ <strong>NAT</strong> æ²¡æœ‰æ‰€è°“çš„å…¬ç½‘ IPï¼Œè¿™æ ·åœ¨æ ¡å¤–å°±æ— æ³•è®¿é—®åˆ°æˆ‘çš„åº”ç”¨ã€‚é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ <code>ssh</code> è¿œç¨‹è½¬å‘ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥é€šè¿‡è®¿é—®å…·æœ‰å…¬ç½‘ IP çš„è¿œç¨‹æœåŠ¡å™¨çš„æŸä¸ªç«¯å£è®¿é—®åˆ°æˆ‘çš„åº”ç”¨ã€‚</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> -R <span class="token punctuation">[</span>remote-host:<span class="token punctuation">]</span><span class="token punctuation">&#123;</span>remote-port<span class="token punctuation">&#125;</span>:<span class="token punctuation">&#123;</span>target-host<span class="token punctuation">&#125;</span>:<span class="token punctuation">&#123;</span>target-port<span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>tunnel-host<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li><code>remote-host</code> ç¼ºçœä¸º <code>tunnel-host</code> çš„ <code>localhost</code>ã€‚å¦‚æœä½ æƒ³è®©åº”ç”¨è¢«å…¬ç½‘ä»»æ„åœ°å€è®¿é—®ï¼Œéœ€è¦æ›´æ”¹ä¸º <code>0.0.0.0</code>ï¼Œå¦åˆ™åªèƒ½è¢«è¿œç¨‹æœºå™¨ç”¨ <code>localhost</code> è®¿é—®ï¼Œå°±å®Œå…¨ç›¸å½“äºæ­£å‘è½¬å‘çš„é€†å‘äº†ã€‚</li>
<li><code>remote-port</code> æ˜¯æ˜ å°„åˆ°è¿œç¨‹æœåŠ¡å™¨çš„æŸä¸ªç«¯å£ï¼Œè®°å¾—æ‰“å¼€å¯¹åº”é˜²ç«å¢™å’Œå®‰å…¨ç»„</li>
<li><code>target-host</code> æ˜¯åº”ç”¨æ‰€åœ¨çš„ host ï¼Œæœ¬åœ°å°±æ˜¯ <code>localhost</code></li>
<li><code>target-port</code> æ˜¯æœåŠ¡çœŸæ­£æ‰€åœ¨çš„ç«¯å£</li>
</ul>
<p>ä½†æ˜¯ <code>ssh</code> é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œå“ªæ€•ä½ æ”¹äº† <code>remote-host</code> ä¸º <code>0.0.0.0</code> ä¹Ÿä¸ä¼šè®©ä½ è¿›è¡Œä¸€ä¸ªå…¬ç½‘çš„è®¿é—®ï¼Œè¿™æ˜¯å‡ºäºå®‰å…¨è€ƒé‡çš„ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨ <code>-v</code> æŸ¥çœ‹çš„è¯ï¼Œå°±ä¼šå‘ç°ä¸€ä¸ªè­¦å‘Š <code>Remote: Forwarding listen address "192.168.1.1" overridden by server GatewayPorts</code></p>
<p>soï¼Œè‹¥æœæƒ³è¦å¼€å¯ï¼Œéœ€è¦æ›´æ”¹ <code>~/.ssh/config</code> çš„ <code>GatewayPorts</code> ä¸º yes</p>
<h3 id="tips">Tips</h3>
<ol type="1">
<li>åå‘è½¬å‘æ³¨æ„å®‰å…¨</li>
<li>å¯ä»¥ä½¿ç”¨ <code>-f</code> åå°æ‰§è¡Œ</li>
<li>å¯ä»¥ä½¿ç”¨ <code>-N</code> ä¸è¿›å…¥ ssh äº¤äº’å‘½ä»¤è¡Œæ¨¡å¼</li>
<li>é€šè¿‡ <code>ssh</code> è¿›è¡Œç«¯å£è½¬å‘å…¶å®å¹¶ä¸ç¨³å®šï¼Œæƒ³è¦æ„å»ºç¨³å®šçš„ç«¯å£è½¬å‘å¯ä»¥äº†è§£ <code>autossh</code> æˆ–è€… <code>frp</code></li>
</ol>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p>https://wangdoc.com/ssh/basic.html</p>
<p>https://kanda.me/2019/07/01/ssh-over-http-or-socks/</p>
<p>https://abcdabcd987.com/ssh/</p>
<p>https://www.cnblogs.com/bonelee/p/12511024.html</p>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Anduin9527</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://lapras.xyz/2022/03/20/844ad6f8.html" title="SSH çš„äºŒä¸‰äº‹">http://lapras.xyz/2022/03/20/844ad6f8.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/06/22/56984c70.html" rel="prev" title="SPSS åŸºç¡€åº”ç”¨ä¸å›å½’åˆ†æ"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">SPSS åŸºç¡€åº”ç”¨ä¸å›å½’åˆ†æ</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/02/28/8fd34f7b.html" rel="next" title="æµ…è°ˆè´å¶æ–¯å®šç†"><span class="post-nav-text">æµ…è°ˆè´å¶æ–¯å®šç†</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿ä¸æˆ‘äº¤æµã€‚</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">é—½ICPå¤‡2021012704å·</a></div><div class="copyright"><span>&copy; 2020 â€“ 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Anduin9527</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.6</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#66d6ff" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" target="_blank" rel="noopener" href="https://www.google.com/search?q=site:lapras.xyz" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","5-12","12-13"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></body></html>