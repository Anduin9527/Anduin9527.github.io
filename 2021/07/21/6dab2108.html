<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#66d6ff"><meta name="author" content="Anduin9527"><meta name="copyright" content="Anduin9527"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>æš‘å‡è¡¥é¢˜è®°å½•(1) | Anduin9527çš„ä¹–ç¦»å™¨</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script><script defer src="https://fastly.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"></script><script type="module">import { renderKatex } from '/js/utils.js'
document.addEventListener("DOMContentLoaded", () => {
  renderKatex({
    ...{},
    ...true?.options,
  });
});</script><link rel="icon" type="image/svg+xml" href="/images/favicon.svg"><link rel="mask-icon" href="/images/favicon.svg" color="#66d6ff"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"lapras.xyz","root":"/","title":["æ‹‰æ™®","æ‹‰æ–¯~","çš„","ä¹–ç¦»å™¨"],"version":"1.10.4","mode":"time","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":["#00D1CE","#66D6FF","#919191"]},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Anduin9527çš„ä¹–ç¦»å™¨" type="application/atom+xml"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap"><script src="/h" async></script><script src="/t" async></script><script src="/t" async></script><script src="/p" async></script><script src="/s" async></script><script src="/:" async></script><script src="/" async></script><script src="/" async></script><script src="/c" async></script><script src="/d" async></script><script src="/n" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><script src="/d" async></script><script src="/e" async></script><script src="/l" async></script><script src="/i" async></script><script src="/v" async></script><script src="/r" async></script><script src="/." async></script><script src="/n" async></script><script src="/e" async></script><script src="/t" async></script><script src="/" async></script><script src="/n" async></script><script src="/p" async></script><script src="/m" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/" async></script><script src="/d" async></script><script src="/i" async></script><script src="/s" async></script><script src="/t" async></script><script src="/" async></script><script src="/i" async></script><script src="/o" async></script><script src="/n" async></script><script src="/i" async></script><script src="/c" async></script><script src="/o" async></script><script src="/n" async></script><script src="/s" async></script><script src="/." async></script><script src="/j" async></script><script src="/s" async></script><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-NSLVQ2H5JH"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-NSLVQ2H5JH');
}</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="å‰è¨€ ç¬¬ä¸€æ¬¡æ­£ç»æ‰“ICPCèµ›åˆ¶çš„æ¯”èµ›ã€‚å’Œé˜Ÿå‹åˆåŠ›ç ä¸‹24çš„ç½šæ—¶ï¼Œå¯å–œå¯è´ºï¼Œå¯å–œå¯è´ºâ€¦â€¦è«é˜Ÿåœ¨å­¦äº†åœ¨å­¦äº†â€¦â€¦">
<meta property="og:type" content="article">
<meta property="og:title" content="æš‘å‡è¡¥é¢˜è®°å½•(1)">
<meta property="og:url" content="http://lapras.xyz/2021/07/21/6dab2108.html">
<meta property="og:site_name" content="Anduin9527çš„ä¹–ç¦»å™¨">
<meta property="og:description" content="å‰è¨€ ç¬¬ä¸€æ¬¡æ­£ç»æ‰“ICPCèµ›åˆ¶çš„æ¯”èµ›ã€‚å’Œé˜Ÿå‹åˆåŠ›ç ä¸‹24çš„ç½šæ—¶ï¼Œå¯å–œå¯è´ºï¼Œå¯å–œå¯è´ºâ€¦â€¦è«é˜Ÿåœ¨å­¦äº†åœ¨å­¦äº†â€¦â€¦">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-07-21T00:58:00.000Z">
<meta property="article:modified_time" content="2021-09-03T03:43:09.067Z">
<meta property="article:author" content="Anduin9527">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="ç®—æ³•">
<meta name="twitter:card" content="summary"><script type="module">import { getScript } from '/js/utils.js'
getScript("https://fastly.jsdelivr.net/npm/mermaid/dist/mermaid.min.js", () => {
  const mermaidOptions = {"startOnload":true}
  mermaid.initialize(mermaidOptions);
}, window.mermaid);
</script><style>.mermaid{background: transparent;}</style><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Anduin9527"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="Anduin9527"><span class="site-author-status" title="å»ºæ¨¡å»ºæ¨¡å‘œå‘œå‘œï¼">ğŸ˜­</span></a><div class="site-author-name"><a href="/about/">Anduin9527</a></div><span class="site-name">Anduin9527çš„ä¹–ç¦»å™¨</span><sub class="site-subtitle">æ­£åœ¨è¿›ä¿®æ‘¸é±¼å­¦å¯¼è®º</sub><div class="site-description">å—é‚®æ‘¸é±¼ing</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">26</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">6</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">27</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="æ–‡æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="tencent://message/?uin=2676057183&amp;Site=&amp;Menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><span class="icon iconify" data-icon="ri:qq-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Anduin9527" title="GitHub" target="_blank" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2676057183@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=579015212" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C10D0C"><span class="icon iconify" data-icon="ri:netease-cloud-music-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/chu-liu-16-64" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><span class="icon iconify" data-icon="ri:zhihu-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/21994551" title="å“”å“©å“”å“©åŠ¨ç”»" target="_blank" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="æˆ‘æ°¸è¿œå–œæ¬¢oo" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">å‰è¨€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mod-or-and-everything"><span class="toc-text">1001 Mod, Or and Everything</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0"><span class="toc-text">æè¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E6%84%8F%E5%88%86%E6%9E%90"><span class="toc-text">é¢˜æ„åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95"><span class="toc-text">ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%B4%E7%B4%A0%E7%AE%97%E6%B3%95"><span class="toc-text">æœ´ç´ ç®—æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E8%A1%A8%E4%BA%8C%E5%88%86"><span class="toc-text">æ‰“è¡¨+äºŒåˆ†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-text">ä½è¿ç®—</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#minimum-spanning-tree"><span class="toc-text">1005 Minimum spanning tree</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-1"><span class="toc-text">æè¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E6%84%8F%E5%88%86%E6%9E%90-1"><span class="toc-text">é¢˜æ„åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-1"><span class="toc-text">ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E7%AD%9B"><span class="toc-text">çº¿æ€§ç­›</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%A8%8B%E5%BA%8F"><span class="toc-text">å®Œæ•´ç¨‹åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#maximal-submatrix"><span class="toc-text">1008 Maximal submatrix</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0-2"><span class="toc-text">æè¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E6%84%8F%E5%88%86%E6%9E%90-2"><span class="toc-text">é¢˜æ„åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%B3%95-2"><span class="toc-text">ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E7%9F%A9%E9%98%B5"><span class="toc-text">å¤„ç†çŸ©é˜µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E8%B0%83%E6%A0%88%E6%B1%82%E6%9F%B1%E5%BD%A2%E5%9B%BE%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF"><span class="toc-text">å•è°ƒæ ˆæ±‚æŸ±å½¢å›¾æœ€å¤§é¢ç§¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%A8%8B%E5%BA%8F-1"><span class="toc-text">å®Œæ•´ç¨‹åº</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#66d6ff;"><link itemprop="mainEntityOfPage" href="http://lapras.xyz/2021/07/21/6dab2108.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Anduin9527"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Anduin9527çš„ä¹–ç¦»å™¨"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">æš‘å‡è¡¥é¢˜è®°å½•(1)</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="Created: 2021-07-21 08:58:00" itemprop="dateCreated datePublished" datetime="2021-07-21T08:58:00+08:00">2021-07-21</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="Modified: 2021-09-03 11:43:09" itemprop="dateModified" datetime="2021-09-03T11:43:09+08:00">2021-09-03</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">2.2k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">10m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" style="--text-color:#317ec7" itemprop="url" rel="index"><span itemprop="text">ç®—æ³•å­¦ä¹ </span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/C/" style="--text-color:saddlebrown"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">C++</span></a><a class="tag-item" href="/tags/%E7%AE%97%E6%B3%95/" style="--text-color:#d04d2d"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">ç®—æ³•</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h3 id="å‰è¨€">å‰è¨€</h3>
<p>ç¬¬ä¸€æ¬¡æ­£ç»æ‰“ICPCèµ›åˆ¶çš„æ¯”èµ›ã€‚å’Œé˜Ÿå‹åˆåŠ›ç ä¸‹24çš„ç½šæ—¶ï¼Œå¯å–œå¯è´ºï¼Œå¯å–œå¯è´ºâ€¦â€¦è«é˜Ÿåœ¨å­¦äº†åœ¨å­¦äº†â€¦â€¦</p>
<span id="more"></span>
<h2 id="mod-or-and-everything">1001 Mod, Or and Everything</h2>
<h3 id="æè¿°">æè¿°</h3>
<blockquote>
<p><strong>Problem Description</strong></p>
<p>You are given an integer n.</p>
<p>You are required to calculate (n mod 1) or (n mod 2) or ... or (n mod (n - 1)) or (n mod n).</p>
<p>The "or" operation means "bitwise OR".</p>
<p><strong>Input</strong></p>
<p>The first line contains an integer <span class="math inline">\(T(1â‰¤Tâ‰¤5000\)</span>)representing the number of test cases.</p>
<p>For each test case, there is an integer <span class="math inline">\(n(1â‰¤nâ‰¤10^{12}\)</span>â€‹â€‹)in one line.</p>
<p><strong>Sample Input</strong></p>
<pre class="language-none"><code class="language-none">5
1
2
3
4
5</code></pre>
<p><strong>Sample Output</strong></p>
<pre class="language-none"><code class="language-none">0
0
1
1
3</code></pre>
</blockquote>
<h3 id="é¢˜æ„åˆ†æ">é¢˜æ„åˆ†æ</h3>
<p>æ±‚å°†næ¨¡1åˆ°n-1çš„å€¼å…¨éƒ¨<strong>æŒ‰ä½æˆ–</strong>çš„ç»“æœï¼Œå…¶ä¸­<strong>æŒ‰ä½æˆ–</strong>å°±æ˜¯æŒ‡ç”¨äºŒè¿›åˆ¶å±•å¼€ä¹‹åï¼Œé€ä½è¿›è¡Œæˆ–è¿ç®—ã€‚</p>
<p>ä»¥5ä¸ºä¾‹ï¼Œ<code>5 % 1 = 0</code> <code>5 % 2 = 1</code> <code>5 % 3 = 2</code> <code>5 % 4 = 1</code>,é‚£ä¹Ÿå°±æ˜¯<code>0|1|2|1</code>,äºŒè¿›åˆ¶å±•å¼€å¾—<code>00|01|10|01</code></p>
<p>æ˜¾ç„¶ç­”æ¡ˆæ˜¯11ä¹Ÿå°±æ˜¯3ï¼Œå¯ä»¥å‘ç°åªæœ‰æ•°ä½ä¸º1çš„æ•°æ‰ä¼šå¯¹ç­”æ¡ˆæœ‰è´¡çŒ®ã€‚é‚£ä¹ˆé—®é¢˜å°±å¯ä»¥è½¬åŒ–æˆæ±‚å–çš„n-1ä¸ªå€¼å…¨éƒ¨è½¬åŒ–ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºä¹‹åï¼Œå¯ä»¥å¾—åˆ°å¤šå°‘ä¸ªä¸é‡å¤çš„å€¼ä¸º1çš„æ•°ä½ã€‚</p>
<p>ç»§ç»­æ‰“è¡¨å¯»æ‰¾è§„å¾‹ï¼Œå¯ä»¥å‘ç°ï¼š</p>
<ul>
<li><code>n mod i</code>ä¼šåœ¨ä¸­é—´å–åˆ°ä¸€ä¸ªæœ€å¤§å€¼mï¼Œå¯¹äºå¶æ•°æ¥è¯´iæ˜¯ <code>n/2 + 1</code> ï¼Œå¯¹å¥‡æ•°æ˜¯<code>(n+1) / 2</code></li>
<li>è¿›ä¸€æ­¥è§‚å¯Ÿå¯ä»¥å‘ç°mçš„å€¼ä¹Ÿå¯ä»¥ç›´æ¥å¾—åˆ°,å¯¹äºå¶æ•°æ¥è¯´mæ˜¯ <code>n/2 - 1</code> ï¼Œå¯¹å¥‡æ•°æ˜¯ <code>(n-1) / 2</code></li>
<li>æ‰“è¡¨å¯å¾—ï¼Œå½“i&lt;=mæ—¶ï¼Œæœ‰<code>n mod (n-i)=i</code>ï¼Œæ¢å¥è¯è¯´å°±æ˜¯å¯ä»¥å–å¾—ä»0~mçš„æ‰€æœ‰å€¼ï¼Œå†æ¢è¨€ä¹‹å°±æ˜¯å¯ä»¥æŠŠmçš„äºŒè¿›åˆ¶ä½æ•°å…¨ç”¨1é“ºæ»¡</li>
</ul>
<p>æ˜¾ç„¶åªéœ€æŠŠmå˜æˆäºŒè¿›åˆ¶æ•°ï¼Œç„¶åæ±‚å¾—mçš„ä½æ•°kï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯<span class="math inline">\(2^k-1\)</span></p>
<p>é—®é¢˜å°±å˜æˆäº†<strong>å¦‚ä½•è®¡ç®—ä¸€ä¸ªåè¿›åˆ¶æ•°å­—çš„äºŒè¿›åˆ¶ä½æ•°</strong></p>
<h3 id="ç®—æ³•">ç®—æ³•</h3>
<h4 id="æœ´ç´ ç®—æ³•">æœ´ç´ ç®—æ³•</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>   
<span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span>   
	<span class="token punctuation">&#123;</span>
		cnt<span class="token operator">++</span><span class="token punctuation">;</span>
		m<span class="token operator">>>=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> cnt<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li>ä¸é€‚ç”¨äºè´Ÿæ•°ï¼ˆè¡¥ç å‰é¢å…¨æ˜¯1ï¼‰</li>
<li>è€ƒè™‘åˆ°mä¸º<span class="math inline">\(5*10^{11}\)</span>â€‹ä¹Ÿå°±å¯ä»¥è¾¾åˆ°<span class="math inline">\(2^{40}\)</span>â€‹ï¼Œemmmmè¿™ä¸ªå¸¸æ•°æ˜¾ç„¶æœ‰ç‚¹å¤§</li>
</ul>
<h4 id="æ‰“è¡¨äºŒåˆ†">æ‰“è¡¨+äºŒåˆ†</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">ll powo<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å‚¨å­˜ä»2^0 ~2^49</span>
<span class="token keyword">int</span> <span class="token function">binSearch</span><span class="token punctuation">(</span>ll n<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">49</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> l <span class="token operator">+</span> r <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>powo<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> n<span class="token punctuation">)</span>
      r <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
      l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> l<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li><span class="math inline">\(O(logn)\)</span></li>
<li>æ‰“è¡¨é«˜ï¼ŒäºŒåˆ†ç¡¬ï¼Œç›´æ¥è¿›è¡Œä¸€ä¸ªlogçš„ä¼˜åŒ–</li>
</ul>
<h4 id="ä½è¿ç®—">ä½è¿ç®—</h4>
<p>ç»è¿‡å†è¿›ä¸€æ­¥çš„è§‚å¯Ÿï¼š</p>
<p>å¦‚æœ <code>lowbit(n) == n</code>ï¼Œæ˜¾ç„¶nä¸º2çš„å¹‚æ¬¡æ•°ï¼Œä¹Ÿæ˜¯å¶æ•°ï¼Œé‚£ä¹ˆmå°±æ˜¯<code>n/2 - 1</code> ï¼Œå¹¶ä¸”mçš„äºŒè¿›åˆ¶ä¸€å®šæ˜¯å…¨1çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼š nä¸º16-&gt;10000ï¼Œmä¸º<code>(10000 &gt;&gt; 1)- 1</code>å³ä¸º111</p>
<p>é‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦è®¡ç®—ä½æ•°å°±èƒ½ç›´æ¥å¾—åˆ°ç­”æ¡ˆã€‚ï¼ˆæ³¨æ„ç‰¹åˆ¤0ï¼‰</p>
<p>æ¨å¹¿å¼€æ¥ï¼Œåªéœ€è¦å¾—åˆ°nçš„2è¿›åˆ¶è¡¨ç¤ºï¼Œç„¶ååªå–é¦–1ï¼Œå…¶ä½™å…¨0ï¼Œå°±å¾—åˆ°<span class="math inline">\(2^k\)</span>,å†å‡å»1å°±æ˜¯ç­”æ¡ˆ</p>
<p>é™„ä¸ŠSTDï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL</span> <span class="token expression"><span class="token keyword">long</span> <span class="token keyword">long</span></span></span>
LL T<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">==</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0ll</span><span class="token punctuation">,</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç‰¹åˆ¤0</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span>n<span class="token punctuation">)</span>n<span class="token operator">-=</span><span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é€šè¿‡ä¸æ–­çš„å‡å»lowbit è¾¾æˆé¦–1å…¨0</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li><span class="math inline">\(O(logn)\)</span></li>
</ul>
<h2 id="minimum-spanning-tree">1005 Minimum spanning tree</h2>
<h3 id="æè¿°-1">æè¿°</h3>
<blockquote>
<p><strong>Problem Description</strong></p>
<p>Given n-1 points, numbered from 2 to n, the edge weight between the two points a and b is lcm(a, b). Please find the minimum spanning tree formed by them.</p>
<p>A minimum spanning tree is a subset of the edges of a connected, edge-weighted undirected graph that connects all the vertices together, without any cycles and with the minimum possible total edge weight. That is, it is a spanning tree whose sum of edge weights is as small as possible.</p>
<p>lcm(a, b) is the smallest positive integer that is divisible by both a and b.</p>
<p><strong>Input</strong></p>
<p>The first line contains a single integer t (t&lt;=100) representing the number of test cases in the input. Then t test cases follow.</p>
<p>The only line of each test case contains one integers n (2&lt;=n&lt;=10000000) as mentioned above.</p>
<p><strong>Output</strong></p>
<p>For each test case, print one integer in one line, which is the minimum spanning tree edge weight sum.</p>
<p><strong>Sample Input</strong></p>
<pre class="language-none"><code class="language-none">&gt;2
&gt;2
&gt;6</code></pre>
<p><strong>Sample Output</strong></p>
<pre class="language-none"><code class="language-none">&gt;0
&gt;26</code></pre>
</blockquote>
<h3 id="é¢˜æ„åˆ†æ-1">é¢˜æ„åˆ†æ</h3>
<p>ç»™ n-1 ä¸ªç‚¹ï¼Œç¼–å· 2~n ï¼Œè¦æ±‚è¿è¾¹å˜æˆä¸€æ£µæ ‘ï¼Œè¾¹æƒä¸º lcm(i, j) ï¼Œæ±‚æ ‘æ‰€æœ‰è¾¹æƒä¹‹å’Œçš„æœ€å°å€¼</p>
<blockquote>
<p>è€ƒè™‘ç¼–å·ä¸º i, j çš„ä¸¤ä¸ªç‚¹ï¼Œæ ¹æ® lcm çš„æ€§è´¨<span class="math inline">\(lcm(i,j) = i*j/gcd(i,j)\)</span>ã€‚é‚£ä¹ˆï¼Œå¯¹äºæ‰€æœ‰çš„è´¨æ•°ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥ç›´æ¥è¿è¾¹åˆ° 2 å·ç‚¹ä¸Šï¼Œæ‰€æœ‰çš„åˆæ•°éƒ½è¿è¾¹åˆ°å…¶ä»»æ„å› å­ç¼–å·ç‚¹ä¸Šã€‚é‚£ä¹ˆï¼Œå¯¹äºè´¨æ•° i ï¼Œå®ƒå¯¹è¾¹æƒå’Œçš„è´¡çŒ®ä»…ä¸º i<em>2ï¼Œå¯¹äºåˆæ•° i ï¼Œå®ƒå¯¹è¾¹æƒå’Œçš„è´¡çŒ®ä»…ä¸º iã€‚æ‰€ä»¥ï¼Œè®¡ç®—æœ€å°çš„è¾¹æƒå’Œï¼Œéœ€è¦è®¡ç®— 2~n å†…çš„è´¨æ•°å’Œ S1 ä»¥åŠåˆæ•°å’Œ S2ï¼Œå¾—å‡ºæœ€ç»ˆç­”æ¡ˆä¸º S1 </em> 2 + S2 ã€‚é€šè¿‡çº¿æ€§ç­›ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ O(n) çš„æ—¶é—´å¤æ‚åº¦ä¸‹è§£å†³è¯¥é—®é¢˜</p>
<p>â€‹ åœ†å½¢æˆ˜å£« J.C</p>
</blockquote>
<p>â€‹</p>
<h3 id="ç®—æ³•-1">ç®—æ³•</h3>
<h4 id="çº¿æ€§ç­›">çº¿æ€§ç­›</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> primes<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span>     <span class="token comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span>
<span class="token keyword">bool</span> st<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span>

<span class="token keyword">void</span> <span class="token function">getPrime_eu</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
      primes<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n <span class="token operator">/</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      st<span class="token punctuation">[</span>primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li><span class="math inline">\(O(n)\)</span></li>
<li>æ ¸å¿ƒæ€æƒ³ï¼šç”¨æ¯ä¸ªæ•°çš„æœ€å°è´¨å› å­ç­›æ‰åˆæ•°ï¼Œä¿è¯æ¯ä¸ªåˆæ•°åªè¢«æ ‡è®°ä¸€æ¬¡ï¼Œä»è€Œåœ¨åŸƒç­›<span class="math inline">\(O(nlognlogn)\)</span>çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–</li>
<li><code>primes[j] &lt;= n / i</code>ä¿è¯ä¸ä¼šç­›å¤§äº<span class="math inline">\(n\)</span>â€‹çš„æ•°</li>
<li>å½“<code>i % primes[j] != 0</code>æ—¶,è¯´æ˜æ­¤æ—¶éå†åˆ°çš„<span class="math inline">\(primes[j]\)</span>â€‹ä¸æ˜¯<span class="math inline">\(i\)</span>â€‹çš„è´¨å› å­ï¼Œé‚£ä¹ˆåªå¯èƒ½æ˜¯æ­¤æ—¶çš„<span class="math inline">\(primes[j]&lt;i\)</span>çš„æœ€å°è´¨å› å­,æ‰€ä»¥<span class="math inline">\(primes[j]*i\)</span>çš„æœ€å°è´¨å› å­å°±æ˜¯<span class="math inline">\(primes[j]\)</span></li>
<li>å½“<code>i % primes[j] == 0</code>æ—¶,è¯´æ˜æ­¤æ—¶éå†åˆ°çš„<span class="math inline">\(primes[j]\)</span>â€‹æ˜¯<span class="math inline">\(i\)</span>â€‹çš„æœ€å°è´¨å› å­ï¼Œå› æ­¤<span class="math inline">\(primes[j]*i\)</span>â€‹çš„æœ€å°è´¨å› å­ä¹Ÿå°±åº”è¯¥æ˜¯<span class="math inline">\(primes[j]\)</span>â€‹</li>
</ul>
<h4 id="å®Œæ•´ç¨‹åº">å®Œæ•´ç¨‹åº</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">10000000</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>
<span class="token keyword">int</span> primes<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span> <span class="token comment">// primes[]å­˜å‚¨æ‰€æœ‰ç´ æ•°</span>
<span class="token keyword">bool</span> st<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token comment">// st[x]å­˜å‚¨xæ˜¯å¦è¢«ç­›æ‰</span>
ll ans<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token comment">//ç­”æ¡ˆæ‰“è¡¨</span>
<span class="token keyword">void</span> <span class="token function">getPrime_eu</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
      primes<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n <span class="token operator">/</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      st<span class="token punctuation">[</span>primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> primes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> t<span class="token punctuation">;</span>
  cin <span class="token operator">>></span> t<span class="token punctuation">;</span>
  <span class="token function">getPrime_eu</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ans<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//æ²¡æœ‰è¢«ç­›æ‰è¯´æ˜æ˜¯ç´ æ•°</span>
      ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
      ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
</code></pre>
<ul>
<li><span class="math inline">\(O(n)\)</span></li>
</ul>
<h2 id="maximal-submatrix">1008 Maximal submatrix</h2>
<h3 id="æè¿°-2">æè¿°</h3>
<blockquote>
<p><strong>Problem Description</strong></p>
<p>Given a matrix of n rows and m columns,find the largest area submatrix which is non decreasing on each column</p>
<p><strong>Input</strong></p>
<p>The first line contains an integer T(1â‰¤Tâ‰¤10)representing the number of test cases. For each test case, the first line contains two integers n,m(1â‰¤n,mâ‰¤2âˆ—103)representing the size of the matrix the next n line followed. the i-th line contains m integers <span class="math inline">\(v_{ij} (1â‰¤ v_{ij}â‰¤5âˆ—10^3)\)</span>representing the value of matrix It is guaranteed that there are no more than 2 testcases with nâˆ—m&gt;10000</p>
<p><strong>Output</strong></p>
<p>For each test case, print a integer representing the Maximal submatrix</p>
<p><strong>Sample Input</strong></p>
<pre class="language-none"><code class="language-none">&gt;1
&gt;2 3
&gt;1 2 4
&gt;2 3 3</code></pre>
<p><strong>Sample Output</strong></p>
<pre class="language-none"><code class="language-none">&gt;4</code></pre>
</blockquote>
<h3 id="é¢˜æ„åˆ†æ-2">é¢˜æ„åˆ†æ</h3>
<p>ç»™ä¸€ä¸ª<span class="math inline">\(n*m\)</span>çš„çŸ©é˜µï¼Œæ±‚å…¶ä¸­æ¯åˆ—ä¸é€’å‡çš„æœ€å¤§é¢ç§¯å­çŸ©é˜µã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è¿™æ ·å¤„ç†çŸ©é˜µï¼Œéå†æ¯ä¸€åˆ—å¦‚æœä¸é€’å‡å°±++ï¼Œåä¹‹å˜ä¸º1ã€‚ä¹‹åï¼Œæˆ‘ä»¬ä»¥è¡Œçš„è§†è§’è§‚å¯Ÿå¾—åˆ°çš„æ–°çŸ©é˜µï¼Œå°±ä¼šå‘ç°æ˜¯nè¡Œçš„æŸ±å½¢å›¾ã€‚é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸ºäº†åœ¨nè¡ŒæŸ±å½¢å›¾ä¸­æ±‚æœ€å¤§çŸ©å½¢çš„é¢ç§¯ã€‚é‚£ä¹ˆï¼Œ <del>å¾ˆè‡ªç„¶</del>æƒ³åˆ°å•è°ƒæ ˆã€‚</p>
<h3 id="ç®—æ³•-2">ç®—æ³•</h3>
<h4 id="å¤„ç†çŸ©é˜µ">å¤„ç†çŸ©é˜µ</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">>=</span> mat<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
      mat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> mat1<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
      mat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span></code></pre>
<h4 id="å•è°ƒæ ˆæ±‚æŸ±å½¢å›¾æœ€å¤§é¢ç§¯">å•è°ƒæ ˆæ±‚æŸ±å½¢å›¾æœ€å¤§é¢ç§¯</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>h<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> s<span class="token punctuation">;</span>
  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  h<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//é˜²æ­¢hé€’å¢å¯¼è‡´ç­”æ¡ˆæ— æ³•æ›´æ–°</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> h<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> h<span class="token punctuation">[</span>s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">>=</span> h<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      <span class="token keyword">int</span> height <span class="token operator">=</span> h<span class="token punctuation">[</span>s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> i <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<ul>
<li>ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œæ‰€æœ‰å…ƒç´ å„è¿›æ ˆå’Œå‡ºæ ˆä¸€æ¬¡å³å¯ã€‚æ¯ä¸ªå…ƒç´ å‡ºæ ˆçš„æ—¶å€™æ›´æ–°æœ€å¤§çš„çŸ©å½¢é¢ç§¯ã€‚</li>
<li>æ ˆå†…å­˜æ”¾çš„æ˜¯ä¸‹æ ‡ï¼Œç”¨äºè®¡ç®—å®½åº¦ = $i $ä¸ <span class="math inline">\(s.top()\)</span> ä¹‹é—´çš„æŸ±å­ä¸ªæ•°</li>
<li><strong>é¢ç§¯ = å¼¹å‡ºçš„é«˜åº¦ * å®½åº¦</strong></li>
</ul>
<h4 id="å®Œæ•´ç¨‹åº-1">å®Œæ•´ç¨‹åº</h4>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stack></span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">2e3</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> mat<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> mat1<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> t<span class="token punctuation">;</span>
  cin <span class="token operator">>></span> t<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">>=</span> mat<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
          mat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> mat1<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
          mat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
      vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> h<span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        h<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>mat1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</code></pre>
<ul>
<li><span class="math inline">\(O(m*n)\)</span></li>
</ul>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Anduin9527</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://lapras.xyz/2021/07/21/6dab2108.html" title="æš‘å‡è¡¥é¢˜è®°å½•(1)">http://lapras.xyz/2021/07/21/6dab2108.html</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/07/27/468672cb.html" rel="prev" title="æš‘å‡è¡¥é¢˜è®°å½•(2)"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">æš‘å‡è¡¥é¢˜è®°å½•(2)</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/04/07/170718db.html" rel="next" title="ä»é›¶å¼€å§‹çš„æ•°æ®ç»“æ„-å †"><span class="post-nav-text">ä»é›¶å¼€å§‹çš„æ•°æ®ç»“æ„-å †</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>å¦‚æœæ‚¨æœ‰ä»»ä½•å…³äºåšå®¢å†…å®¹çš„ç›¸å…³è®¨è®ºï¼Œæ¬¢è¿ä¸æˆ‘äº¤æµã€‚</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">é—½ICPå¤‡2021012704å·</a></div><div class="copyright"><span>&copy; 2020 â€“ 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Anduin9527</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v6.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.4</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#66d6ff" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" target="_blank" rel="noopener" href="https://www.google.com/search?q=site:lapras.xyz" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","5-12","12-13"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></body></html>